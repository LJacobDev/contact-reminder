# General point of this repo

rapidly use whatever I can remember about vue without looking it up first,

to make a front end only / localstorage json database styled app about keeping
in contact with people.

It uses local storage so that it can be run off something like github pages
or locally without needing to contact a back end anywhere

# Overview of design

main page shows a set of 3 main buttons in a row at the top like a navbar

    - add new contact

    - add new interaction

    - show contacts


    - either have a 'show interactions' button or else make that list view of
    them be the default that is shown whenever 'add new contact, interaction'
    or 'show contacts' is closed out

then there can be a component below that uses the fade in/out conditional component rendering that shows either:

    - an add new contact form

    - an edit existing contact form (can be add same as new one if I make it that way)

    - a component that is a list of contacts, where clicking on one gives you the edit contact form

    - a component that allows adding a new interaction, which will also be the one to edit an interaction

    (adding new will create the interaction, and bring to edit view. edit view will have save and delete buttons)

    - a component that is a grid of interactions

    - the interactions have date, contact, summary of thing done,
        summary of next thing to do, date to do next thing at, viewable from the list

      then you can sort them by date done, but the usual order will be sorted by date to do next thing at

    probably a combo box or something to select whether to sort by date done or date to do next thing at

    - make a thing that either shows all, or I guess has some kind of pagination that only shows (selectable per page of 10, 20, 50, all)

- interactions should be able to be shown as a list of rows in general, but also,
- there should not only be a 'view contact details' component / view, there should also be a list shown of interaction history for that contact
- this contact's interaction history might be a separate page or something that can be hid/shown underneath contact details,
- possibly include two ways of showing it, as a list of rows with dates and brief titles to click on for details,
- and maybe as well a way to show rows of the interactions but where the full textarea of all the information is also shown to scroll through rather than having to click on each one

I think I'd rather use vue router than the hide/show conditional rendering, so that it is more like going to different pages.. however, even that is something that can happen within a div kind of component and the navbar at the top can still stay the same..

    it's just that I'm not sure whether it merits having other 'url links' to go to the different things but I imagine it actually should so yes I want to use the vue router for this

# Things to remember

This application doesn't use login authentication,
it saves and retrieves from browser localstorage
so it is not recommended to store sensitive data in this

I'm adding vue router and want to use it for /contacts,
/interactions, /contacts/edit and that kind of thing

I'm adding 'Vitest' unit testing and I want to make use of it

    ('npm run test:unit' has it running vitest in a kind of watch mode currently)

I normally use tailwindcss but want to get practice at using conventional css for this

I was going to delete all the original scaffolding files and folders generated by Vite,
but I am finding them useful to look at as references for how to organize this app,
so I'm leaving some of them around intentionally as reminders and references

In the scaffolding files, a link to [https://github.com/vuejs/awesome-vue](https://github.com/vuejs/awesome-vue) was mentioned
and it should be very helpful to look at so many other examples of Vue projects
to gain expertise sooner

# Things to do next

### finish off getting the CI CD pipeline to deploy to pages

... this process was started but there were some obstacles to its completion, [see notes of things already done so far on this one](#summary-of-this-and-how-to-continue)

for now I want to at least continue developing the app while coming back to understanding how to get it to finish the CD part of its CI/CD pipeline

here is a second guide about this topic that I can review in order to see what parts it has in common with the first guide and what is different about it: https://medium.com/@pathirage/step-in-to-ci-cd-a-hands-on-guide-to-building-ci-cd-pipeline-with-github-actions-7490d6f7d8ff

... I've removed the seemingly unrelated modifications introduced by the first blog guide to index.html, main.ts, vite.config.ts, index.ts, and deleted gh-pages branch

... doing iterative debugging of the error messages in github actions logs, talking about missing a file or directory of ...contact-reminder/contact-reminder/dist. Using error messages to play around with path details to see what happens

... found that switching to use newer upload-artifact and download-artifact seemed to remove the problem of paths missing, now that part of things looks free of error messages

... all that remains now is that there is still an issue of permission lacking when trying to push the commit to 'git push origin gh-pages' in the deploy job

... I tried again making gh-pages branch and pushing it in the way that made it appear to finish deployment. I noticed that my build job was skipping because I had a conditional in it looking for the branch to be main

... I noticed something else, where another 'pages build and deployment' workflow runs only while in this gh-pages branch doing that manual push - it says it is building with jekyll and then successfully deploying. I almost think that this is then building the vue app and making it appear blank. I wonder if I add html to index.html it will appear on the pages render

!!! The 'test text' did appear, so this hypothesis seems to be correct, that my deploy step is not working because it's deploying a jekyll build instead of the dist folder I'm meaning for it to

NEXT: I would like to find out why this separate build workflow that uses jekyll is happening and why my deliberate artifact folder of dist that is being uploaded and downloaded is not being used as intended

One thing to note: I got this error message

Action failed with "You deploy from gh-pages to gh-pages
This operation is prohibited to protect your contents
"

this seems to mean that my method of manually pushing from gh-pages branch is causing a problem here

I've deleted gh-pages branch and pushed to main again, expecting permissions error to come back up again (it does do that)

So I can push from gh-pages branch in the cli and get it to deploy as a jekyll build in an unexpected separate workflow/action being run, but when doing that it ignores my vite build and has an issue with pushing from gh-pages branch to itself

or I can push from main and get a permission error

I tried making a gh-pages branch, but being checked out in main when then pushing to 'origin gh-pages' and the 'pages to pages' error message appeared again here

... the pages to pages error disappears when I have a gh-pages branch that exists, but when I use main to push to origin main, but now I see the permissions error again. Currently, permissions are meant to be set up to allow this to work, but it seems to be the only remaining thing to wonder about looking at for the moment

... I confirmed that my permissions needed 'contents' to be set to 'write', and upon doing this, the behaviour changed:

now the 'debugging pages issues' completes all steps with no errors, no permission problems

it still does 'pages build and deployment' which I'm not trying to run

now instead of the jekyll build with 'test text', it shows a 404 which is a new issue

### creating more test files

I want there to be tests on the Vue components in `src/components/__tests__`

I also want there to be tests for other files with typescript logic in them

### adding an import/export feature so data can be transferred to other environments

### completing views and data structures

quickly put together an 'interaction' view which I can use to help me work out which fields I want it to have

.. fix the interaction-details input elements in the InteractionItem component to not overflow their flex container
.. I just changed the router-view to have width:100% instead of width:80% and it essentially solved the issue but I still want to understand why there was an overflow back when width was at 80%

.. remove wherever the css styling is that made "Show Interactions" routerlink get green text

I feel like the /interaction route will want to have an interactionID as a get parameter that it uses to fetch a given interaction from localstorage or whatever data structure might be holding it in memory if any

the interaction date and time should default to the date.now when it is created, but with the option for the user to change it

I might sitll want a 'date created' separate field that isn't changeable so that there is some way to know when things were really entered, but I don't know how important that really is

create useContacts.ts and useInteractions.ts composable, or possibly combine both into one file

    create contact and interaction types or interfaces

Make initial data stucture for how contacts and interactions will be saved and related to each other

    each contact and each interaction will have a unique ID, probably a UUID type number

    they will be saved in localstorage individually where the localstorage key is the ID number

    then there will also be a 'list of contacts' that is just an array of the contact IDs stored as an item in localstorage

    so the list of contacts can be retrieved and then localstorage can be queried by these IDs to get data about any given contact

    each contact field will then have an array of interaction IDs related to it to retrieve those

    but there will also be a separate main array of all interaction ids as well so that all can be viewed in rows

    each interaction also has a reference to the contact it relates to



    create 'create, load/retrieve, save/update, and delete' functions

    create unit tests for all these CRUD operation functions


    create contact object data structure and its fields

        name
        type (friend, work colleague, make a custom list of contact types that the user can define)
        maybe lastContactDateTime, nextContactDateTime (or lastContactDate, lastContactTime... separately?)
        (or probably  lastcontactdate will just be stored in interaction as its own date, and nextcontactdate can be an interaction's 'next contact date')
        phone number
        email
        website
        address

    create a data object that can store list of custom contact types / interaction types that gets
    loaded and filled into the combo box selections on future use

    create interaction and its fields

    give each contact a unique id

    give each interaction a unique id

    let the contact have a collection of interaction ids that it relates to
    rather than having it store the actual interaction data in its collection

    the interaction should also have a reference of what contact ID it relates to

get something in either a console.log() or in a rendered view that can show a basic 'contact' and 'interaction' object data and whether it's able to be saved and loaded to/from localstorage before going further with making forms and layouts

Get buttons to work (add, edit, save, delete for both contacts and interactions)

come back again to add more styling polish to elements once the layout and component structure is more settled

tidy up dev_notes.md to have better appearance when viewing on github

go look at https://test-utils.vuejs.org/guide/ Vue Test Utils to see more about what they are used like

# Things done so far

    initial project directory created

    dev_notes.md created

    Before deleting the Vite generated scaffolding, took a moment to fully examine each file and folder.
    This was highly informative about how a Vue project's structure can be organized.  This time, rather than
    erasing everything and  making everything from memory, it is helpful to see the structure already laid out
    and to fill in with this particular app's contents next.

    Took more time to fully break down a complete understanding of every line of every component and main file,
    and tinkered with things.  Tried running npx serve in order to test the 'README.md' link in TheWelcome between
    running in a Vite dev server and running dist in a non-dev server to see the different behaviours.  Clicking
    the link while running dev server opens the readme in the IDE, where the non-dev server returns a 404 on that link.


    Took a moment to explore the different effects of using:

    "More instructions are available in <a href="/__open-in-editor?file=README.md"><code>README.md</code></a>."

    versus the original of:

    "More instructions are available in <a href="javascript:void(0)" @click="openReadmeInEditor"><code>README.md</code></a>."


    Make initial placeholder type main view component

    add enough styling to make it functional and roughly placed in 'nice enough to develop with' looking layout


    learned about github pages, github actions for a CI CD pipeline.  Have created the workflows folder by hand as practice vs just using the github UI to do it, but it isn't running properly yet

### getting this app to have github actions CI CD to GitHub Pages hosting

... github workflow file to build, test and eventually deploy to pages has been added, but it is not showing as running in the github actions tab

... find out if it is written or configured incorrectly

... make sure that this can use GH Actions to deploy this to Github Pages

... I've looked on the github UI and it showed that the workflow attempted to run just now,
and it showed an error message from line 20, col 5 where my runs-on property was accidentally nested inside something else rather than at top level, so it was parsed as missing from the file

... correction, it was not that at all, and that runs-on was in fact in the right place. It was really saying that runs-on was missing from the second job, 'test'. I've added it, and now the workflow shows as running in the github ui

... it shows that the build job is completing successfully, and that the test job is giving an error message, saying that it couldn't read package.json, that there was no such file or directory as "home/runner/work/contact-reminder/contact-reminder/package.json". I can see what the error is saying but I don't immediately see what is causing the package.json to not be found. It might have something to do with the test job needing a reference to what was built in the build job but I can figure that out next

... I looked at other example of build and test workflow files and they seemed to just include the test command as a line directly after the build command. I begin to imagine that the file missing error seen in the other version was related to the way that the 'setup node' action done in the build job was not still present for when the test job runs, and if so, then it needed to be either added to the test job, causing longer processing time, or just move the 'npm run test:unit' line to the build job to save time and accomplish it with that existing setup

... now all the build and test steps work, and I want to add the deploy to pages step

... I might want to make the pages deploy happen only on pushing or merging to another branch besides main, like a 'prod' branch, so I can still make frequent pushes to main without triggering that deployment over and over

... rather than take guesses in the dark at how to set this up, I've found a resource that seems to explain a way to deploy vue3 to pages specifically: https://medium.com/@jagoda11/deploying-a-vue-3-app-with-vite-typescript-and-github-actions-to-github-pages-ac240cdb473e

... much of this resource is talking about setting up vite.config.ts and the vue router, which I don't immediately see what that would have to do with github pages deployment, but I'll understand it all and tell what is relevant to pages deployment and what is just other stuff related to building in vite in general. It might be saying that the vue-router needs to be configured in a certain way so that pages can navigate its page history or something like that

... I want to add deployment to pages now, starting with what I think is the minimum code / instructions to do it, and seeing if that runs, and then adding in other parts that I thought might be unrelated next if I find out that they are in fact needed for this to work.

... so far I have only added the action in the yaml file for peaceiris/actions-gh-pages@v3 and generated an error message which says that "there is no such remote: 'origin'"

... there is also an error message saying that there was no permission to push this, so this part is why permissions need to be given to 'github-actions'

... I added 'pages', then 'id-token', then 'contents' permissions one at a time until all the error messages cleared. Now it gives an error message saying that it's expecting 'gh-pages' branch, so I'll make one of those

... I've made a 'gh-pages' branch and pushed that like 'git push origin gh-pages' and it seems like something is working now, I'm going to try checking out main and making a minor change to see what workflow events happen

... it seems like the time that I pushed 'git push origin gh-pages', it did some kind of successful deployment step, and the github.io site seems live. I went to checkout main and ran a push on that, and in that it gave an error message about deploying to pages, where it said that it failed to get permissions to contact-reminder.git. I think I'll need to set a separate deploy workflow file or job that only runs when gh-pages gets pushed to

... I don't need it to run this build and test on pushes to main anyway, as those can be done locally. I am going to switch the workflow to only work on pushes to gh-pages

... now when I check out gh-pages it reverts to an older version, so I'll try things out until I understand how to push new changes to gh-pages. I imagine that while checked out in main, I might use 'git push origin gh-pages'.. trying that now

... something isn't working yet, as 'git push origin gh-pages' is saying 'everything up to date'. Also, the live github.io page is showing just a blank render which might update in a while, but it has been blank for several minutes already so for now it might indicate that things need further setup

#### summary of this so far:

It seems like when I created a gh-pages branch and pushed it with 'git push origin gh-pages', it initiated a successful run of the workflow, showing a successful deployment. However the site appears blank even up until now (but doesn't show a 404)

I still need to understand the relationships between parts here and how to make changes to main without initiating the CI CD, but then also send those changes likely to the gh-pages branch in order to initiate the CI CD workflow

there are several steps from the https://medium.com/@jagoda11/deploying-a-vue-3-app-with-vite-typescript-and-github-actions-to-github-pages-ac240cdb473e resource that I intentionally have omitted because I want to add one piece at a time and follow the error messages to find out which parts are essential to this process. So far I've worked backwards with adding permissions, setting up gh-pages and root in the pages settings in github ui, and made modifications to the workflow yml to use the peaceiris action to deploy. I have yet to do the other steps, such as configuring package.json, or the vue router, or main.ts, or index.html, or vite.config.ts, or installing gh-pages in --save-dev, some of which might be needed in order to facilitate the process of getting changes sent to the gh-pages branch to make this all work

... now adding gh-pages npm package and seeing what difference this makes by itself

... taking a moment to read what gh-pages package is meant to do

... I see what it is meant to do, but I don't see in this blog post where it is being invoked but I'll keep working through this

... the current error given in the actions panel is about permission being denied to github-actions, so I tested whether adding the permissions in the settings > actions > general area helped with that, and it didn't seem to make a difference.

... I do however see that in the 'deploy to github pages' action step, it is trying to do '/usr/bin/git push origin gh-pages' so I think I see the moment at which it tries to trigger the pages deploy that I was looking for previously

... what I'll try next is to make some configuration settings that were mentioned in the blog which I haven't done yet and see if any of those happen to clear this out... it seems like there is another error message before this one about permissions, saying 'no such file or directory: /home/runner/work/contact-reminder/contact-reminder/dist/.\*' so there is something wrong with a path it's expecting to find things in and that might get resolved by doing more of these configs

... on the blog there is an instruction to make a gh-pages branch, and I saw that my repo no longer had one of those, so I wondered if that had to do with this at all. I attempted doing the git rm -r . command it talks about but that wiped all the files in main even though I was checked out to gh-pages, so I did 'git reset --hard' to get them back, though this might had had side effects I have yet to find out about

... adding a gh-pages branch manually did not resolve the error messages but it seems to have slightly changed the output in the 'deploy to github pages' section. There is still a message saying that a path doesn't exist, so I'll keep doing the other steps as mentioned before to see if that resolves it along the way

... added modifications to vite.config.js and index.html. Now the npm run build gives an error message that it can't resolve /contact-reminder/src/main.ts. I wonder what exactly is causing that but I know that it was also supposed to be modified, but I don't see how modifying it would help it get resolved

... some additions of the project name to the paths in index.html resulted in them not being found, including favicon. So I reverted those back and it builds now. However, the 'base' element tag that was added into the head is being kept for now, though I wonder if it will also malfunction like these other parts had been doing

##### I'm starting to question this guide blog post:

I've completed the several file modifications that this guide suggests making in order to set up GH Actions to deploy to pages, and in doing so, it introduced an issue where main.ts and router/index.ts are each creating 'const router' and this conflict isn't explained in the blog post. So the idea of just following exactly what it says to do is not likely going to work

What it has done though was get me much closer to understanding how to get the deployment pipeline working, and I can find out how to finish it off by simply seeking to understand how the parts involved in it work and following the error messages provided to work it out

#### summary of this and how to continue:

I've followed a blog guide about how to set up a CICD pipeline for github actions to github pages, but it only caused me to understand more about how to get it working, but it appears to introduce build errors to just take the guide at face value. It will need to become understood so that I can set it up knowing exactly what to do and why. For now, build and test is working, and it is only the Pages deploy step that needs to be completed.

#### correction:

it appears that the router double definition was not what I first though it was. It was because main.ts had imported 'createRouter' and 'router', where the blog guide did not have 'import router'. So by removing 'import router', it has no build errors.

Now that the blog has essentially been fully followed, there still remains an error in the deploy step on the action workflow

I tried doing manually what seemed to work before, which was:

- delete gh-pages branch
- create the gh-pages branch
- from it, run 'git push origin gh-pages'

Doing this caused what looks like a successful run of the gh actions workflow with no error messages.

I wonder if the actual page will still appear blank or whether it will work this time

two things remain not understood:

why does following the blog seem to result in getting error messages?

- find out more about what all of these parts actually do and why they need to be set to what they're set to, so you know exactly what to do to use this correctly

- check whether the render is still blank and if so find out why
